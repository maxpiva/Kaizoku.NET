<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:KaizokuTray.ViewModels"
        mc:Ignorable="d" 
        d:DesignWidth="600" d:DesignHeight="300"
        x:Class="KaizokuTray.Views.StorageFolderDialog"
        x:DataType="vm:StorageFolderDialogViewModel"
        Title="Select Storage Folder"
        Width="600" Height="300"
        MinWidth="500" MinHeight="250"
        WindowStartupLocation="CenterScreen"
        CanResize="true"
        Icon="/Assets/kaizoku.net.ico">
    <Window.Styles>
        <Style Selector="TextBox:focus /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="#C90C32"/>
        </Style>
    </Window.Styles>
  <Grid Margin="20">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <!-- Title -->
    <TextBlock Grid.Row="0" 
               Text="Select Storage Folder"
               FontSize="18"
               FontWeight="Bold"
               Margin="0,0,0,20"
               HorizontalAlignment="Center" />

    <!-- Description -->
    <TextBlock Grid.Row="1"
               Text="Please select or enter the path to your series storage folder:"
               FontSize="14"
               Margin="0,0,0,15"
               TextWrapping="Wrap" />

    <!-- Folder Path Input -->
    <Grid Grid.Row="2" Margin="0,0,0,15">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>

		<TextBox Grid.Column="0"
				 Name="FolderPathTextBox"
				 Text="{Binding FolderPath}"
				 Watermark="Enter folder path or use browse button..."
				 FontSize="13"
				 Padding="8"
				 Margin="0,0,10,0"/>

      <Button Grid.Column="1" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Name="BrowseButton"
              Content="Browse..." Background="#C90C32"
              Click="BrowseButton_Click"
              MinWidth="100"
              Height="35"
              FontSize="13" />
    </Grid>

    <!-- Validation Status -->
    <Border Grid.Row="3" 
            Background="{Binding ValidationStatusBackground}"
            BorderBrush="{Binding ValidationStatusBorder}"
            BorderThickness="1"
            CornerRadius="4"
            Padding="10"
            Margin="0,0,0,15"
            IsVisible="{Binding ShowValidationStatus}">
      <StackPanel Orientation="Horizontal">
        <TextBlock Text="{Binding ValidationIcon}"
                   FontSize="16"
                   Margin="0,0,8,0"
                   VerticalAlignment="Center" />
        <TextBlock Text="{Binding ValidationMessage}"
                   FontSize="13"
                   TextWrapping="Wrap"
                   VerticalAlignment="Center" />
      </StackPanel>
    </Border>

    <!-- Spacer -->
    <Border Grid.Row="4" />

    <!-- Buttons -->
    <StackPanel Grid.Row="5"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Spacing="10">
      <Button Name="OkButton" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
              Content="OK" Background="#C90C32"
              Click="OkButton_Click"
              IsEnabled="{Binding IsValidFolder}"
              IsDefault="True"
              MinWidth="80"
              Height="35"
              FontSize="13" />
      <Button Name="CancelButton" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"
              Content="Cancel" Background="#C90C32"
              Click="CancelButton_Click"
              IsCancel="True"
              MinWidth="80"
              Height="35"
              FontSize="13" />
    </StackPanel>
  </Grid>
</Window>